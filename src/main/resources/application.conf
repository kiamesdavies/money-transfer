
include "commons.conf"

akka.persistence {
  journal.plugin = "jdbc-journal"
  snapshot-store.plugin = "jdbc-snapshot-store"
}

akka.persistence.at-least-once-delivery.warn-after-number-of-unconfirmed-attempts = 5


jdbc-journal {
  slick = ${slick}
}

# the akka-persistence-snapshot-store in use
jdbc-snapshot-store {
  slick = ${slick}
}

# the akka-persistence-query provider in use
jdbc-read-journal {
  slick = ${slick}
}


slick {
  profile = "slick.jdbc.H2Profile$"
  db {
    url = "jdbc:h2:mem:test-database;AUTO_RECONNECT=TRUE;DATABASE_TO_UPPER=false;INIT=RUNSCRIPT FROM 'db/default/v1__DDL_14_09_2019.sql'"
    user = "root"
    password = "root"
    driver = "org.h2.Driver"
    numThreads = 5
    maxConnections = 5
    minConnections = 1
    connectionTestQuery = SELECT 1
  }
}
